(this["webpackJsonpmrdb-client"]=this["webpackJsonpmrdb-client"]||[]).push([[0],{106:function(e,t,n){e.exports=n(118)},111:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),c=n.n(r),o=(n(111),n(49)),l=n(12),s=n.n(l),u=n(73),h=n(19),g=n(16),d=n(17),f=n(13),m=n(26),p=n(3),b=n(161),v=n(162),y=n(163),k=n(164),E=n(159),O=n(160),j=n(174),w=n(153),R=n(171),L=n(170),x=n(179),C=n(91),S=n(93),M=n(146),_=n(176),N=n(54),D=n.n(N),I=n(53),W=n.n(I),U=n(88),A=n.n(U),F=n(87),T=n.n(F),H=n(86),B=n.n(H),K=n(14),P=n(177),Y=n(89),X=n(165),z=n(166),J=n(175),G=n(167),Z=n(168),q=function(){function e(){var t=this;Object(g.a)(this,e),this._left=0,this._top=0,this._right=0,this._bottom=0,this.width=function(){return t.right-t.left},this.height=function(){return t.bottom-t.top}}return Object(d.a)(e,[{key:"validate",value:function(){var e=Math.min(this.left,this.right),t=Math.min(this.top,this.bottom),n=Math.max(this.left,this.right),a=Math.max(this.top,this.bottom);this.left=e,this.top=t,this.right=n,this.bottom=a}},{key:"toString",value:function(){return"left: ".concat(this.left,", top: ").concat(this.top,", right: ").concat(this.right,", bottom: ").concat(this.bottom)}},{key:"toPoints",value:function(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]}},{key:"deepCopy",value:function(){var t=new e;return t.left=this.left,t.top=this.top,t.right=this.right,t.bottom=this.bottom,t}},{key:"left",set:function(e){this._left=Math.min(Math.max(0,e),1)},get:function(){return Math.min(this._left,this._right)}},{key:"top",set:function(e){this._top=Math.min(Math.max(0,e),1)},get:function(){return Math.min(this._top,this._bottom)}},{key:"right",set:function(e){this._right=Math.min(Math.max(0,e),1)},get:function(){return Math.max(this._left,this._right)}},{key:"bottom",set:function(e){this._bottom=Math.min(Math.max(0,e),1)},get:function(){return Math.max(this._top,this._bottom)}},{key:"centerX",get:function(){return this.left+this.width()/2}},{key:"centerY",get:function(){return this.top+this.height()/2}}]),e}(),V=function(){function e(t,n,a,i){Object(g.a)(this,e),this.id=void 0,this.categoryId=void 0,this.label=void 0,this.rectangle=void 0,this.id=t,this.categoryId=n,this.label=a,this.rectangle=i}return Object(d.a)(e,[{key:"containsPoint",value:function(e,t){return!(e<this.rectangle.left)&&(!(t<this.rectangle.top)&&(!(e>this.rectangle.right)&&!(t>this.rectangle.bottom)))}},{key:"neighborScore",value:function(e,t){var n=Math.abs(this.rectangle.left-e),a=Math.abs(this.rectangle.right-e),i=Math.abs(this.rectangle.top-t),r=Math.abs(this.rectangle.bottom-t);return Math.min(n,i,a,r)}},{key:"deepCopy",value:function(){return new e(this.id,this.categoryId,this.label,this.rectangle.deepCopy())}}]),e}();function $(e){return e.map((function(e,t){return{category_id:e.categoryId,label:e.label,order:5*t,points:e.rectangle.toPoints()}}))}function Q(e){return e.map((function(e){var t=e.id?e.id:-1,n=e.category_id,a=e.label,i=e.points.map((function(e){return e.x})),r=function(e){return e.map((function(e){return e.y}))}(e.points),c=Math.min.apply(Math,Object(K.a)(i)),o=Math.min.apply(Math,Object(K.a)(r)),l=Math.max.apply(Math,Object(K.a)(i)),s=Math.max.apply(Math,Object(K.a)(r)),u=new q;return u.left=c,u.top=o,u.right=l,u.bottom=s,u.validate(),new V(t,n,a,u)}))}var ee=function(){function e(t,n,a){Object(g.a)(this,e),this._id=0,this._name="",this._order=0,this._id=t,this._name=n,this._order=a}return Object(d.a)(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"order",get:function(){return this._order}}]),e}(),te=function(){function e(t,n,a,i){Object(g.a)(this,e),this._categoryId=0,this._label=0,this._name="",this._order=0,this._categoryId=t,this._label=n,this._name=a,this._order=i}return Object(d.a)(e,[{key:"categoryId",get:function(){return this._categoryId}},{key:"label",get:function(){return this._label}},{key:"name",get:function(){return this._name}},{key:"order",get:function(){return this._order}}]),e}(),ne="https://mrdb.keiji.dev/api/v1",ae=function(e){if(e.ok)return e;switch(e.status){case 400:throw Error("INVALID_TOKEN");case 401:throw Error("UNAUTHORIZED");case 500:throw Error("INTERNAL_SERVER_ERROR");case 502:throw Error("BAD_GATEWAY");case 404:throw Error("No region data found.");default:throw Error("UNHANDLED_ERROR")}};function ie(e){return re.apply(this,arguments)}function re(){return(re=Object(h.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,fetch(ne+"/hash",{method:"POST",body:n}).then(ae);case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return oe.apply(this,arguments)}function oe(){return(oe=Object(h.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/category").then(ae);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.categories.map((function(e){var t=e.id,n=e.name,a=e.order;return new ee(t,n,a)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return(se=Object(h.a)(s.a.mark((function e(t){var n,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/category/".concat(t)).then(ae);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,i=a.labels.map((function(e){var t=e.category_id,n=e.label,a=e.name,i=e.order;return new te(t,n,a,i)})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t,n){var a=ne+"/page/"+e.dhash8;return t&&n?a+="/?category_id=".concat(t.id,"&published=true"):t?a+="/?category_id=".concat(t.id):n&&(a+="/?published=true"),a}function he(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(h.a)(s.a.mark((function e(t,n){var a,i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ue(t,n,!1)).then(ae);case 2:return a=e.sent,e.next=5,a.json();case 5:return i=e.sent,r=Q(i.regions),console.log(r),e.abrupt("return",{hashes:t,regions:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){var t=ne+"/page";return e&&(t+="?category_id="+e.id),t}function fe(e,t,n,a){return me.apply(this,arguments)}function me(){return(me=Object(h.a)(s.a.mark((function e(t,n,a,i){var r,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$(a),c={image_ids:{dhash8:n.dhash8,dhash12:n.dhash12,dhash16:n.dhash16},regions:r},o=JSON.stringify(c),e.next=5,fetch(de(i),{method:"POST",headers:{"Idempotency-Key":t},body:o});case 5:return l=e.sent,e.abrupt("return",l.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=["#4caf50","#2196f3","#ff9800","#ff5722","#5c6bc0","#ab47bc","#ec407a","#7e57c2","#26c6da","#26a69a"],be=function(){function e(t,n){var a=this;Object(g.a)(this,e),this.category=new ee(0,"Unknown",0),this.label=0,this.mode="move",this.regionList=[],this.image=null,this.canvas=void 0,this.callback=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onSelectedRegion",value:function(e){}},{key:"onAddedRegion",value:function(e,t){}},{key:"onDeletedRegion",value:function(e,t){}},{key:"onChangedLabel",value:function(e,t){}},{key:"onDeformRegion",value:function(e,t){}}]),e}()),this._focusedRegion=null,this._editingRegion=null,this._selectedRegion=null,this.imageWidth=0,this.imageHeight=0,this.marginTop=0,this.marginBottom=0,this.marginLeft=0,this.marginRight=0,this.clicking=!1,this.onMouseDownListener=function(e){a.clicking=!0;var t=a.calcXRatio(e.offsetX),n=a.calcYRatio(e.offsetY),i=a.nearestRegion(t,n);i&&(i.length>0?a.selectedRegion=i[0]:(a.selectedRegion=null,a.editingRegion=a.createRegion(t,n)),a.callback.onSelectedRegion(a.selectedRegion),a.redraw())},this.onMouseMoveListener=function(e){var t=a.calcXRatio(e.offsetX),n=a.calcYRatio(e.offsetY);if(a.clicking&&null!==a.editingRegion)return a.editingRegion.rectangle.right=t,a.editingRegion.rectangle.bottom=n,void a.redraw();if(!a.clicking){var i=a.nearestRegion(t,n);if(!i)return;return i.length>0?a.focusedRegion=i[0]:a.focusedRegion=null,void a.redraw()}},this.onMouseUpListener=function(e){a.clicking=!1;var t=a.editingRegion;if(t){if(t.rectangle.validate(),a.editingRegion=null,t.rectangle.width()<.01&&t.rectangle.height()<.01)return;a.addRegion(t)}},this.onKeyDownListener=function(e){if("ArrowRight"===e.key||"ArrowLeft"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();var t=.01*(e.shiftKey?.1:1);e.altKey?a.shrink(e.key,t):e.metaKey?a.expand(e.key,t):a.move(e.key,t)}else if("Delete"===e.key||"Clear"===e.key||"Backspace"===e.key||"d"===e.key){if(e.preventDefault(),!a.selectedRegion)return;a.deleteRegion(a.selectedRegion)}else if(isNaN(parseInt(e.key)))"Escape"===e.key?(e.preventDefault(),a.editingRegion=null):"Enter"===e.key?(e.preventDefault(),e.shiftKey?a.selectPrevRegion():a.selectNextRegion()):"Meta"===e.key?(e.preventDefault(),a.mode="expand"):"Alt"===e.key?(e.preventDefault(),a.mode="shrink"):console.log(e.key);else{if(e.preventDefault(),!a.selectedRegion)return;a.changeRegionLabel(a.selectedRegion,parseInt(e.key))}a.redraw()},this.onKeyUpListener=function(e){e.preventDefault(),("Meta"!==e.key||e.altKey)&&("Alt"!==e.key||e.metaKey)||(a.mode="move"),a.redraw()},this.canvas=t,this.callback=n}return Object(d.a)(e,[{key:"destroy",value:function(){this.image=null}},{key:"calcMargin",value:function(e){if(this.image){var t=Math.min(this.canvas.width/this.image.width,this.canvas.height/this.image.height),n=this.canvas.width-this.image.width*t,a=this.canvas.height-this.image.height*t;n<2*e&&(n=2*e),a<2*e&&(a=2*e),this.marginTop=a/2,this.marginBottom=a-this.marginTop,this.marginLeft=n/2,this.marginRight=n-this.marginLeft,this.imageWidth=this.canvas.width-n,this.imageHeight=this.canvas.height-a}}},{key:"calcXRatio",value:function(e){return(e-this.marginLeft)/this.imageWidth}},{key:"calcYRatio",value:function(e){return(e-this.marginTop)/this.imageHeight}},{key:"nearestRegion",value:function(e,t){return this.regionList?this.regionList.filter((function(n){return n.containsPoint(e,t)})).filter((function(n){return n.neighborScore(e,t)<.005})).sort((function(n,a){var i=n.neighborScore(e,t),r=a.neighborScore(e,t);return i<r?-1:i>r?1:0})):null}},{key:"addRegion",value:function(e){var t=this.regionList?this.regionList:[];this.regionList=[].concat(Object(K.a)(t),[e]),this.callback.onAddedRegion(e,this.regionList),this.selectedRegion=e,this.callback.onSelectedRegion(e)}},{key:"deleteRegion",value:function(e){if(this.regionList){var t=this.regionList.indexOf(e);t>=0&&(this.regionList=[].concat(Object(K.a)(this.regionList.slice(0,t)),Object(K.a)(this.regionList.slice(t+1,this.regionList.length)))),this.callback.onDeletedRegion(e,this.regionList),this.selectedRegion=null,this.callback.onSelectedRegion(null)}}},{key:"moveRegion",value:function(e){if(this.regionList&&0!==this.regionList.length)if(null!==this.selectedRegion){var t=this.regionList.indexOf(this.selectedRegion);if(t>-1){var n=t+e;n>=0&&n<this.regionList.length&&(this.selectedRegion=this.regionList[n],this.callback.onSelectedRegion(this.selectedRegion))}}else this.selectedRegion=this.regionList[0]}},{key:"selectPrevRegion",value:function(){this.moveRegion(-1)}},{key:"selectNextRegion",value:function(){this.moveRegion(1)}},{key:"focusedRegion",set:function(e){this._focusedRegion=e},get:function(){return this._focusedRegion}},{key:"editingRegion",set:function(e){this._editingRegion=e},get:function(){return this._editingRegion}},{key:"selectedRegion",set:function(e){this._selectedRegion=e},get:function(){return this._selectedRegion}}]),Object(d.a)(e,[{key:"createRegion",value:function(e,t){var n=new q;n.left=e,n.right=e,n.top=t,n.bottom=t;var a=this.category?this.category.id:0;return new V(-1,a,this.label,n)}},{key:"shrink",value:function(e,t){return this.mode="shrink",e.endsWith("Left")?this.deform(0,0,-t,0):e.endsWith("Up")?this.deform(0,0,0,-t):e.endsWith("Right")?this.deform(t,0,0,0):!!e.endsWith("Down")&&this.deform(0,t,0,0)}},{key:"expand",value:function(e,t){return this.mode="expand",e.endsWith("Left")?this.deform(-t,0,0,0):e.endsWith("Up")?this.deform(0,-t,0,0):e.endsWith("Right")?this.deform(0,0,t,0):!!e.endsWith("Down")&&this.deform(0,0,0,t)}},{key:"move",value:function(e,t){return this.mode="move",e.endsWith("Left")?this.deform(-t,0,-t,0):e.endsWith("Up")?this.deform(0,-t,0,-t):e.endsWith("Right")?this.deform(t,0,t,0):!!e.endsWith("Down")&&this.deform(0,t,0,t)}},{key:"deform",value:function(e,t,n,a){if(!this.regionList||!this.selectedRegion)return!1;var i=this.regionList.indexOf(this.selectedRegion);if(i<0)return!1;var r=this.selectedRegion.deepCopy(),c=r.rectangle,o=c.left+e,l=c.top+t,s=c.right+n,u=c.bottom+a;if(o=Math.max(0,o),l=Math.max(0,l),s=Math.min(1,s),u=Math.min(1,u),c.left===o&&c.top===l&&c.right===s&&c.bottom===u)return!1;c.left=o,c.top=l,c.right=s,c.bottom=u;var h=[].concat(Object(K.a)(this.regionList.slice(0,i)),[r],Object(K.a)(this.regionList.slice(i+1,this.regionList.length)));return this.regionList=h,this.selectedRegion=r,this.callback.onDeformRegion(r,this.regionList),this.callback.onSelectedRegion(this.selectedRegion),!0}},{key:"changeRegionLabel",value:function(e,t){if(this.label=t,!this.regionList)return!1;var n=this.regionList.indexOf(e);if(n<0)return!1;var a=e.deepCopy();a.label=t;var i=[].concat(Object(K.a)(this.regionList.slice(0,n)),[a],Object(K.a)(this.regionList.slice(n+1,this.regionList.length)));return this.regionList=i,this.selectedRegion=a,this.callback.onChangedLabel(a,this.regionList),this.callback.onSelectedRegion(this.selectedRegion),!0}},{key:"redraw",value:function(){var e=this,t=this.canvas.getContext("2d");null!==t&&(t.clearRect(0,0,this.canvas.width,this.canvas.height),this.image&&(t.drawImage(this.image,this.marginLeft,this.marginTop,this.imageWidth,this.imageHeight),this.regionList&&(this.regionList.forEach((function(n,a){if(n===e.focusedRegion?t.strokeStyle="".concat(pe[n.label]):t.strokeStyle="".concat(pe[n.label]).concat("aa"),e.drawRegion(n,t),n===e.selectedRegion){t.fillStyle="".concat("#f44336"),t.strokeStyle="".concat("#f44336");var i=n.deepCopy();i.rectangle.left-=.004,i.rectangle.top-=.004,i.rectangle.right+=.004,i.rectangle.bottom+=.004,e.drawRegion(i,t),e.drawMarkers(i,t)}})),this.editingRegion&&(t.strokeStyle="".concat("#f44336"),this.drawRegion(this.editingRegion,t)))))}},{key:"drawExpandMarkers",value:function(e,t){var n=e.rectangle.centerX*this.imageWidth+this.marginLeft,a=e.rectangle.top*this.imageHeight+this.marginTop;t.fillRect(n,a,1,-8);var i=e.rectangle.left*this.imageWidth+this.marginLeft,r=e.rectangle.centerY*this.imageHeight+this.marginTop;t.fillRect(i,r,-8,1);var c=e.rectangle.right*this.imageWidth+this.marginLeft,o=e.rectangle.centerY*this.imageHeight+this.marginTop;t.fillRect(c,o,8,1);var l=e.rectangle.centerX*this.imageWidth+this.marginLeft,s=e.rectangle.bottom*this.imageHeight+this.marginTop;t.fillRect(l,s,1,8)}},{key:"drawShrinkMarkers",value:function(e,t){var n=e.rectangle.centerX*this.imageWidth+this.marginLeft,a=e.rectangle.top*this.imageHeight+this.marginTop;t.fillRect(n,a,1,8);var i=e.rectangle.left*this.imageWidth+this.marginLeft,r=e.rectangle.centerY*this.imageHeight+this.marginTop;t.fillRect(i,r,8,1);var c=e.rectangle.right*this.imageWidth+this.marginLeft,o=e.rectangle.centerY*this.imageHeight+this.marginTop;t.fillRect(c,o,-8,1);var l=e.rectangle.centerX*this.imageWidth+this.marginLeft,s=e.rectangle.bottom*this.imageHeight+this.marginTop;t.fillRect(l,s,1,-8)}},{key:"drawMarkers",value:function(e,t){switch(this.mode){case"move":return;case"expand":return void this.drawExpandMarkers(e,t);case"shrink":return void this.drawShrinkMarkers(e,t)}}},{key:"drawRegion",value:function(e,t){var n=e.rectangle;t.strokeRect(n.left*this.imageWidth+this.marginLeft,n.top*this.imageHeight+this.marginTop,n.width()*this.imageWidth,n.height()*this.imageHeight)}}]),e}();var ve=Object(M.a)((function(e){return Object(_.a)({root:{height:"100%",backgroundColor:e.palette.background.paper},canvasContainer:{position:"relative",height:"100%",width:"100%"},canvas:{cursor:"crosshair"}})}));function ye(e){var t=ve(),n=Object(a.useState)(null),i=Object(f.a)(n,2),r=i[0],c=i[1],o=Object(a.useRef)(null),l=Object(a.useRef)(null),s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=function(e){s.current&&l.current&&r&&o.current&&(s.current.width=l.current.clientWidth,s.current.height=l.current.clientHeight,o.current.calcMargin(16),o.current.redraw())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),Object(a.useEffect)((function(){var t=s.current;if(t){var n=new be(t,e.callback);t.addEventListener("mousedown",n.onMouseDownListener),t.addEventListener("mousemove",n.onMouseMoveListener),t.addEventListener("mouseup",n.onMouseUpListener),document.addEventListener("keydown",n.onKeyDownListener),document.addEventListener("keyup",n.onKeyUpListener),o.current=n}return function(){if(t&&o.current){var e=o.current;t.removeEventListener("mousedown",e.onMouseDownListener),t.removeEventListener("mousemove",e.onMouseMoveListener),t.removeEventListener("mouseup",e.onMouseUpListener)}if(o.current){var n=o.current;document.removeEventListener("keydown",n.onKeyDownListener),document.removeEventListener("keyup",n.onKeyUpListener)}}}),[s]),Object(a.useEffect)((function(){e.file?function(e,t){var n=new FileReader;n.onload=function(e){var n,a=null===(n=e.target)||void 0===n?void 0:n.result;if(null!=a){var i=new Image;i.src=a,t(i)}},n.readAsDataURL(e)}(e.file,(function(e){c(e)})):c(null)}),[e.file]),Object(a.useEffect)((function(){o.current&&(o.current.image=r,o.current.calcMargin(16),o.current.category=e.selectedCategory,o.current.label=0,o.current.regionList=e.regionList,o.current.redraw())}),[r,e.regionList,e.selectedCategory]),Object(a.useEffect)((function(){s.current&&l.current&&(s.current.width=l.current.clientWidth,s.current.height=l.current.clientHeight,o.current&&o.current.redraw())}),[s,l]),Object(a.useEffect)((function(){o.current&&(o.current.selectedRegion=e.selectedRegion,o.current.redraw())}),[e.selectedRegion]),Object(a.useEffect)((function(){e.selectedCategory&&o.current&&(o.current.category=e.selectedCategory)}),[e.selectedCategory]),a.createElement("div",{className:t.canvasContainer,ref:l},a.createElement("canvas",{className:t.canvas,tabIndex:-1,ref:s}))}var ke=n(152),Ee=n(154),Oe=n(155),je=n(156),we=n(157),Re=n(158),Le=n(149),xe=n(178),Ce=n(172),Se=Object(M.a)((function(e){return Object(_.a)({root:{overflowY:"scroll",backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:"120px"},selectEmpty:{marginTop:e.spacing(2)}})}));function Me(e){var t=Se(),n=Object(a.useRef)(null),i=function(){var t=Object(h.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(n.id);case 2:a=t.sent,e.callback.onLabelsUpdated(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(h.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce();case 2:n=t.sent,e.callback.onCategoriesUpdated(n),e.callback.onCategorySelected(n[0]),i(n[0]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){r()}),[n]);return a.createElement("div",{className:t.root},a.createElement(Le.a,{className:t.formControl},a.createElement(xe.a,{id:"demo-simple-select-label"},"Category"),a.createElement(Ce.a,{value:e.selectedCategory?e.selectedCategory.id:0,onChange:function(t){var n=t.target.value;if("number"===typeof n&&e.categoryList){var a=e.categoryList.filter((function(e){return e.id===n}));a&&(e.callback.onCategorySelected(a[0]),i(a[0]))}},className:t.selectEmpty},e.categoryList?e.categoryList.map((function(e,t){return a.createElement(P.a,{value:e.id},e.name)})):a.createElement("div",null))))}var _e=n(78),Ne=n.n(_e),De=n(77),Ie=n.n(De),We=Object(M.a)((function(e){return Object(_.a)({root:{height:"100%",overflowY:"scroll",backgroundColor:e.palette.background.paper},table:{minWidth:"100%"},labelIndicator:{display:"inline-block",width:"16px",height:"16px",marginRight:"4px"}})}));function Ue(e){var t=We();if(!e.regionList)return i.a.createElement(R.a,{className:t.root});var n=function(e,t,n){var a=Object(K.a)(e),i=a[n];return a[n]=a[t],a[t]=i,a},a=function(t){if(e.regionList){var a=t+1,i=n(e.regionList,t,a);e.callback.onChangeRegionList(i)}},r=function(t){if(e.regionList){var a=t-1,i=n(e.regionList,t,a);e.callback.onChangeRegionList(i)}};return i.a.createElement(R.a,{className:t.root},i.a.createElement(Me,{categoryList:e.categoryList,selectedCategory:e.selectedCategory,callback:e.categorySettingCallback}),e.regionList&&0!==e.regionList.length?i.a.createElement(Ee.a,{component:C.a},i.a.createElement(Oe.a,{className:t.table,"aria-label":"simple table"},i.a.createElement(je.a,null,i.a.createElement(we.a,null,i.a.createElement(ke.a,null),i.a.createElement(ke.a,null,"Label"),i.a.createElement(ke.a,{align:"center"},"Order"))),i.a.createElement(Re.a,null,e.regionList.map((function(n,c){return i.a.createElement(we.a,{key:c,onClick:function(){!function(t){e.callback.onRegionSelected(t)}(n)}},function(t){return e.selectedRegion===t?i.a.createElement(ke.a,null,i.a.createElement(Ie.a,null)):i.a.createElement(ke.a,null,i.a.createElement(Ne.a,null))}(n),function(n){if(!e.labelList)return i.a.createElement(ke.a,null,n);var a,r=e.labelList.filter((function(e){return e.label===n}))[0];a=r?r.name:"Unknown";var c="".concat(n,": ").concat(a);return i.a.createElement(ke.a,null,i.a.createElement("span",{className:t.labelIndicator,style:{background:pe[n]}}),c)}(n.label),function(t){if(e.regionList)return 0===t?i.a.createElement(ke.a,null,i.a.createElement(w.a,{onClick:function(){a(t)}},i.a.createElement(W.a,null))):t===e.regionList.length-1?i.a.createElement(ke.a,null,i.a.createElement(w.a,{onClick:function(){r(t)}},i.a.createElement(D.a,null))):i.a.createElement(ke.a,null,i.a.createElement(w.a,{onClick:function(){r(t)}},i.a.createElement(D.a,null)),i.a.createElement(w.a,{onClick:function(){a(t)}},i.a.createElement(W.a,null)))}(c))}))))):i.a.createElement("span",null))}var Ae=n(80),Fe=n.n(Ae),Te=n(82),He=n.n(Te),Be=n(81),Ke=n.n(Be),Pe=n(83),Ye=n.n(Pe),Xe=n(173),ze=function e(t,n){Object(g.a)(this,e),this.selectedRegion=void 0,this.regionList=void 0,this.selectedRegion=t,this.regionList=n},Je=Object(M.a)((function(e){return Object(_.a)({root:{width:"100%",height:"100%",backgroundColor:e.palette.background.paper,display:"flex"},grid:{top:"64px",height:"calc(100% - 64px)"},regionEditor:{height:"100%",backgroundColor:e.palette.background.paper,display:"flex"},regionList:{height:"100%",backgroundColor:e.palette.background.paper,display:"flex"},title:{flexGrow:1},menu:{}})}));function Ge(e){var t=Object(a.useState)(e),n=Object(f.a)(t,2),i=n[0],r=n[1],c=Object(a.useRef)(i);return Object(a.useEffect)((function(){c.current=i}),[i]),[i,r,c]}function Ze(e){var t=Je(),n=Object(a.useRef)(Object(Xe.a)()),i=Object(a.useState)(null),r=Object(f.a)(i,2),c=r[0],o=r[1],l=Object(a.useState)(),u=Object(f.a)(l,2),p=u[0],R=u[1],L=Object(a.useState)(!1),x=Object(f.a)(L,2),C=x[0],M=x[1],_=Object(a.useState)(!1),N=Object(f.a)(_,2),D=N[0],I=N[1],W=Object(a.useState)(null),U=Object(f.a)(W,2),A=U[0],F=U[1],T=Object(a.useRef)(null),H=Object(a.useState)(),B=Object(f.a)(H,2),q=B[0],V=B[1],ee=Object(a.useState)(),te=Object(f.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(),ce=Object(f.a)(re,2),oe=ce[0],le=ce[1],se=Object(a.useState)(),ue=Object(f.a)(se,2),ge=ue[0],de=ue[1],me=Ge(null),pe=Object(f.a)(me,3),be=pe[0],ve=pe[1],ke=pe[2],Ee=Ge(new Array),Oe=Object(f.a)(Ee,3),je=Oe[0],we=Oe[1],Re=Oe[2],Le=Ge(new Array),xe=Object(f.a)(Le,3),Ce=xe[0],Se=xe[1],Me=xe[2],_e=Object(a.useState)("Hello"),Ne=Object(f.a)(_e,2),De=Ne[0],Ie=Ne[1],We=Object(a.useState)({open:!1,vertical:"top",horizontal:"center"}),Ae=Object(f.a)(We,2),Te=Ae[0],Be=Ae[1],Pe=Te.vertical,Ze=Te.horizontal,qe=Te.open,Ve=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onSelectedRegion",value:function(e){ve(e)}},{key:"onAddedRegion",value:function(e,t){it(ke.current,Re.current),we(t)}},{key:"onDeletedRegion",value:function(e,t){it(ke.current,Re.current),we(t)}},{key:"onChangedLabel",value:function(e,t){it(ke.current,Re.current),we(t)}},{key:"onDeformRegion",value:function(e,t){it(ke.current,Re.current),we(t)}}]),e}()),$e=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onChangeRegionList",value:function(e){it(ke.current,Re.current),we(e)}},{key:"onCategoriesUpdated",value:function(e){var t=Object(K.a)(e);ae(t)}},{key:"onRegionSelected",value:function(e){ve(e)}}]),e}()),Qe=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onCategoriesUpdated",value:function(e){var t=Object(K.a)(e);ae(t)}},{key:"onCategorySelected",value:function(e){le(e)}},{key:"onLabelsUpdated",value:function(e){de(e)}}]),e}()),et=function(e){switch(e.message){case"Failed to fetch":Ie("A network error has occurred."),Be(Object(m.a)(Object(m.a)({},Te),{},{open:!0}));break;default:Ie("".concat(e.message)),Be(Object(m.a)(Object(m.a)({},Te),{},{open:!0}))}},tt=function(){var t=Object(h.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedFile){t.next=2;break}return t.abrupt("return");case 2:if(we(new Array),e.onlineMode){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,ie(e.selectedFile);case 8:return n=t.sent,V(n),t.next=12,he(n,oe);case 12:a=t.sent,n===a.hashes&&we(a.regions),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),et(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(e){e.preventDefault(),"z"===e.key&&(e.ctrlKey||e.metaKey)&&at()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(a.useEffect)((function(){if(!e.selectedFile)return M(!1),V({}),we([]),Se([]),void o(e.selectedFile);C?I(!0):o(e.selectedFile)}),[e.selectedFile]),Object(a.useEffect)((function(){oe&&(C?I(!0):R(oe))}),[oe]),Object(a.useEffect)((function(){tt()}),[e.onlineMode]),Object(a.useEffect)((function(){n.current=Object(Xe.a)(),nt(),c&&tt()}),[c,p]),Object(a.useEffect)((function(){var e=Ce.length>0;M(e)}),[Ce]);var nt=function(){Se([])},at=function(){if(0!==Ce.length){var e=Ce.length-1,t=Ce[e];we(t.regionList),ve(t.selectedRegion);var n=Object(K.a)(Ce.slice(0,e));Se(n)}},it=function(e,t){var n=[].concat(Object(K.a)(Me.current),[new ze(e,t)]);Se(n)},rt=function(){var t=Object(h.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedFile){t.next=2;break}return t.abrupt("return");case 2:if(je){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,q){t.next=10;break}return t.next=8,ie(e.selectedFile);case 8:a=t.sent,V(a);case 10:if(q){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,fe(n.current,q,je,oe);case 14:Ie("Save completed."),Be(Object(m.a)(Object(m.a)({},Te),{},{open:!0})),M(!1),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),et(t.t0);case 22:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(){return t.apply(this,arguments)}}(),ct=function(){var t=Object(h.a)(s.a.mark((function t(){var n,a,i,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedFile){t.next=2;break}return t.abrupt("return");case 2:if(je){t.next=4;break}return t.abrupt("return");case 4:n=$(je),a={file:e.selectedFile.name,regions:n},q&&(a.image_ids={dhash8:q.dhash8,dhash12:q.dhash12,dhash16:q.dhash16}),i=new Blob([JSON.stringify(a,null,"  ")],{type:"application/json"}),r=URL.createObjectURL(i),c=document.createElement("a"),document.body.appendChild(c),c.download=e.selectedFile.name+".json",c.href=r,c.click(),c.remove(),URL.revokeObjectURL(r);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement(X.a,{position:"static"},a.createElement(z.a,null,a.createElement(S.a,{variant:"h6",className:t.title},e.selectedFile?e.selectedFile.name:"MRDB - Manga Region Database"),a.createElement("div",{className:t.menu},Ce?0===Ce.length?a.createElement("span",null):a.createElement(j.a,{title:"Undo (Ctrl + Z)","aria-label":"undo"},a.createElement(w.a,{color:"inherit",onClick:function(){at()}},a.createElement(Fe.a,null))):a.createElement("span",null),e.onlineMode?C?a.createElement(j.a,{title:"Save to server","aria-label":"submit-to-server"},a.createElement(w.a,{color:"inherit",onClick:rt},a.createElement(He.a,null))):a.createElement("span",null):a.createElement(j.a,{title:"Turn to online","aria-label":"turn-online-on"},a.createElement(w.a,{color:"inherit",onClick:function(){e.callback.onTurnOnlineRequested()}},a.createElement(Ke.a,null))),function(){if(c){var e=function(){F(null)},t=function(){e(),ct()};return a.createElement("span",null,a.createElement(Y.a,{id:"simple-menu",anchorEl:A,keepMounted:!0,open:Boolean(A),onClose:e},a.createElement(P.a,{onClick:function(){e(),T.current&&T.current.click()}},"Import"),Re.current&&0!==Re.current.length?a.createElement(P.a,{onClick:t},"Export"):a.createElement(P.a,{disabled:!0,onClick:t},"Export")),a.createElement(j.a,{title:"Export region data","aria-label":"export-regions"},a.createElement(w.a,{color:"inherit",onClick:function(e){F(e.currentTarget)}},a.createElement(Ye.a,null))),a.createElement("input",{ref:T,type:"file",name:"files[]",id:"file",accept:"application/json",onChange:function(e){if(e.preventDefault(),je){var t=e.target.files;if(t){var n=t[0],a=new FileReader;a.onload=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.result;if(n){if("string"===typeof n){var a=Q(JSON.parse(n).regions);we(a)}T.current&&(T.current.value="")}},a.readAsText(n)}}},hidden:!0}))}}()))),a.createElement(J.a,{open:qe,onClose:function(){Be(Object(m.a)(Object(m.a)({},Te),{},{open:!1}))},message:De,autoHideDuration:2e3,anchorOrigin:{vertical:Pe,horizontal:Ze},key:Pe+Ze}),a.createElement(G.a,{container:!0,spacing:0,className:t.grid},a.createElement(G.a,{item:!0,xs:8,className:t.regionEditor},a.createElement(ye,{file:c,selectedCategory:p,regionList:je,selectedRegion:be,callback:Ve})),a.createElement(G.a,{item:!0,xs:4,className:t.regionList},a.createElement(Z.a,null,a.createElement(Ue,{regionList:je,selectedRegion:be,categoryList:ne,selectedCategory:p,labelList:ge,callback:$e,categorySettingCallback:Qe})))),function(){var t=function(){e.onlineMode?rt():ct(),we([]),I(!1),o(e.selectedFile),R(oe)},n=function(){we([]),I(!1),o(e.selectedFile),R(oe)};return a.createElement(b.a,{open:D,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.createElement(v.a,{id:"alert-dialog-title"},"Save changes?"),a.createElement(y.a,null,a.createElement(k.a,{id:"alert-dialog-description"},"Do you want to save changes before opening an other file?")),(e.onlineMode,a.createElement(E.a,null,a.createElement(O.a,{onClick:n,color:"primary"},"Discard"),a.createElement(O.a,{onClick:t,color:"primary",autoFocus:!0},"Save"))))}())}var qe=n(169),Ve=n(85),$e=n.n(Ve),Qe=n(84),et=n.n(Qe),tt=Object(M.a)((function(e){return Object(_.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},imageBoxContainerSelected:{border:"1px solid #0000ff !important;"},imageBoxContainer:{width:"200px",height:"100%",minWidth:"150px",margin:"8px",border:"1px solid #cccccc",position:"relative"},imageContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",position:"absolute"},image:{objectFit:"cover",width:"100%",height:"auto",marginLeft:"auto",marginRight:"auto"},imagePlaceholder:{marginLeft:"auto",marginRight:"auto"},boxFile:{display:"none"},tapContainer:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"flex-end",alignItems:"start"},selectionBox:{width:"100%",height:"100%",position:"absolute"},clearIcon:{}})}));function nt(e){var t=tt(),n=Object(a.useState)(Array()),i=Object(f.a)(n,2),r=i[0],c=i[1],o=Object(a.useState)(Array()),l=Object(f.a)(o,2),s=l[0],u=l[1],h=Object(a.useRef)(null);var g=function(e){if(s){var t=new FileReader;t.onload=function(t){var n,a=null===(n=t.target)||void 0===n?void 0:n.result;a&&(s[e]=a,u(Object(K.a)(s)))},t.readAsDataURL(r[e])}};return a.createElement("div",{className:t.root},a.createElement(qe.a,{className:t.gridList},a.createElement(R.a,{className:t.imageBoxContainer},a.createElement(R.a,{className:t.imageContainer,onClick:function(){var e=h.current;e&&e.click()}},a.createElement("img",{className:t.imagePlaceholder,src:et.a,alt:"add_image"}))),function(t,n){if(s)return s.map((function(i,o){var l=r[o];return"string"===typeof i?function(e,t,n,i,r,c){return a.createElement(R.a,{className:i?n.imageBoxContainerSelected+" "+n.imageBoxContainer:n.imageBoxContainer},a.createElement(Z.a,{className:n.imageContainer},a.createElement("img",{className:n.image,src:e,alt:t})),a.createElement(R.a,{className:n.tapContainer},a.createElement(R.a,{className:n.selectionBox,onClick:r}),a.createElement(w.a,{className:n.clearIcon,color:"inherit",onClick:c},a.createElement($e.a,null))))}(i,l.name,t,l===e.selectedFile,(function(e){e.preventDefault(),n.onFileSelected(l)}),(function(t){t.preventDefault();var n=r.indexOf(l);-1!==n&&(r.splice(n,1),s.splice(n,1),c(Object(K.a)(r)),u(Object(K.a)(s)),e.callback.onFileListUpdated(r))})):i}))}(t,e.callback),a.createElement("input",{ref:h,className:t.boxFile,type:"file",name:"files[]",id:"file",accept:"image/*",multiple:!0,onChange:function(t){t.preventDefault();var n=t.target.files;r.unshift.apply(r,Object(K.a)(n)),r.forEach((function(e,t){g(t)})),c(Object(K.a)(r)),e.callback.onFileListUpdated(r)}})))}var at=Object(M.a)((function(e){return Object(_.a)({root:{display:"block",height:"100vh"},main:{height:"calc(100% - ".concat(64,"px)"),width:"100%"},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(1,1),justifyContent:"flex-end",position:"fixed"},e.mixins.toolbar),{},{top:"auto",bottom:"0px",width:"100%",backgroundColor:e.palette.background.paper}),grow:{flexGrow:1,textAlign:"center"},drawerHeaderShift:{marginBottom:"calc(".concat(210,"px)"),transition:e.transitions.create(["margin","height"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},drawer:{},drawerPaper:{height:210},drawerHeaderPaper:{paddingLeft:"16dp"},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginBottom:-210},contentShift:{transition:e.transitions.create(["margin","height"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginBottom:"calc(".concat(210,"px)")}})}));var it=function(){var e=Object(a.useState)(!0),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(f.a)(r,2),l=c[0],m=c[1],M=Object(a.useState)(),_=Object(f.a)(M,2),N=_[0],I=_[1],U=Object(a.useState)(),F=Object(f.a)(U,2),H=F[0],K=F[1],P=localStorage.getItem("agreement"),Y=Object(a.useState)(!P||!("20201006"===P)),X=Object(f.a)(Y,2),z=X[0],J=X[1],G=Object(a.useRef)(null),Z=at(),q=function(){if(H&&N){var e=N.indexOf(H);if(!(e<0)){var t=e-1;t>=0&&K(N[t])}}},V=function(){if(H&&N){var e=N.indexOf(H);if(!(e<0)){var t=e+1;t<N.length&&K(N[t])}}},$=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onFileListUpdated",value:function(e){I(e),H&&-1===e.indexOf(H)&&K(null)}},{key:"onFileSelected",value:function(e){K(e)}}]),e}()),Q=new(function(){function e(){Object(g.a)(this,e)}return Object(d.a)(e,[{key:"onTurnOnlineRequested",value:function(){J(!0)}}]),e}()),ee=function(){m(!l)},te=function(){var e=Object(h.a)(s.a.mark((function e(t){var n,a,i,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},a=Object(u.a)(t),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=12;break}return r=i.value,e.next=8,ie(r);case 8:c=e.sent,n[r.name]={image_ids:c,url:ue(c,null,!0)};case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(h.a)(s.a.mark((function e(){var t,n,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,te(N);case 4:t=e.sent,n=new Blob([JSON.stringify(t,null,"  ")],{type:"application/json"}),a=URL.createObjectURL(n),i=document.createElement("a"),document.body.appendChild(i),i.download="export.json",i.href=a,i.click(),i.remove(),URL.revokeObjectURL(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.createElement("div",{className:"App",ref:G,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),ee())},tabIndex:-1},a.createElement(L.a,null),a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),a.createElement("div",{className:Z.root},a.createElement(x.a,{className:Z.drawer,variant:"persistent",anchor:"bottom",open:l,classes:{paper:Z.drawerPaper}},a.createElement(nt,{selectedFile:H,callback:$})),a.createElement("main",{className:Z.main},a.createElement(Ze,{selectedFile:H,onlineMode:n,callback:Q,className:Object(p.a)(Z.content,Object(o.a)({},Z.contentShift,l))}))),a.createElement(C.a,{elevation:1,className:Object(p.a)(Z.drawerHeaderPaper,Z.drawerHeader,Object(o.a)({},Z.drawerHeaderShift,l))},a.createElement(j.a,{title:l?"Close (Space)":"Open (Space)","aria-label":"toggle-drawer"},a.createElement(w.a,{onClick:ee,color:"inherit","aria-label":"open drawer"},l?a.createElement(W.a,null):a.createElement(D.a,null))),a.createElement("div",{className:Z.grow},a.createElement(S.a,{variant:"caption"},"Copyright 2020 Keiji ARIYAMA (C-LIS CO., LTD.)")),N&&0!==N.length?a.createElement(R.a,null,a.createElement(j.a,{title:"Prev file","aria-label":"prev-file"},a.createElement(w.a,{color:"inherit",onClick:q},a.createElement(T.a,null))),a.createElement(j.a,{title:"Next file","aria-label":"next-file"},a.createElement(w.a,{color:"inherit",onClick:V},a.createElement(A.a,null))),n?a.createElement(j.a,{title:"Export all image-IDs","aria-label":"export-image-ids"},a.createElement(w.a,{color:"inherit",onClick:ne},a.createElement(B.a,null))):a.createElement("span",null)):a.createElement(R.a,null)),a.createElement(b.a,{open:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.createElement(v.a,{id:"alert-dialog-title"},"Online mode(Agreement)"),a.createElement(y.a,null,a.createElement(k.a,{id:"alert-dialog-description"},'In online mode, image files will be uploaded to our server for generate image-ids by "imagehash" algorithm. And image files will be stored for improving our services.',a.createElement("br",null),"ROI(Region of Interest) data and image-ids will be uploaded, stored, and redistribute for all users.",a.createElement("br",null),a.createElement("br",null),"We ",a.createElement("strong",null,"DO NOT")," redistribute your image files.")),a.createElement(E.a,null,a.createElement(O.a,{onClick:function(){i(!1),J(!1)},color:"primary"},"Decline (Continue offline)"),a.createElement(O.a,{onClick:function(){i(!0),localStorage.setItem("agreement","20201006"),J(!1)},color:"primary"},"Agree"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.createElement(a.StrictMode,null,a.createElement(it,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,n){e.exports=n.p+"static/media/add_photo_alternate-black-48dp.51e18df8.svg"}},[[106,1,2]]]);
//# sourceMappingURL=main.17791d79.chunk.js.map